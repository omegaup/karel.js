<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <title>Karel.js</title>
    <script src="lib/CodeMirror/lib/codemirror.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/CodeMirror/addon/selection/active-line.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/CodeMirror/addon/fold/foldcode.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/CodeMirror/addon/fold/foldgutter.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/CodeMirror/addon/fold/indent-fold.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/CodeMirror/addon/mode/overlay.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/jquery-1.12.0.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/jquery-electron-helper.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/jquery.hammer.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/jquery.sandbox.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="lib/Split.js/split.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/syntax.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/karel.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/mundo.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/karelruby.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/kareljava.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/karelpascal.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/main.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="lib/CodeMirror/lib/codemirror.css" />
    <link rel="stylesheet" type="text/css" href="lib/CodeMirror/addon/fold/foldgutter.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap-responsive.min.css" />
    <!-- Themes -->
    <link rel="stylesheet" type="text/css" href="css/karel.css" />
    <link rel="stylesheet" href="lib/CodeMirror/theme/3024-day.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/3024-night.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/abcdef.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/ambiance.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/base16-dark.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/bespin.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/base16-light.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/blackboard.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/cobalt.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/colorforth.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/dracula.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/eclipse.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/elegant.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/erlang-dark.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/hopscotch.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/icecoder.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/isotope.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/lesser-dark.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/liquibyte.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/material.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/mbo.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/mdn-like.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/midnight.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/monokai.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/neat.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/neo.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/night.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/paraiso-dark.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/paraiso-light.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/pastel-on-dark.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/railscasts.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/rubyblue.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/seti.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/solarized.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/the-matrix.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/tomorrow-night-bright.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/tomorrow-night-eighties.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/ttcn.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/twilight.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/vibrant-ink.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/xq-dark.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/xq-light.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/yeti.css">
    <link rel="stylesheet" href="lib/CodeMirror/theme/zenburn.css">
    <style type="text/css" media="screen">
      body {
      overflow: hidden;
      }
      #splitter-container {
      position: absolute;
      top: 100px;
      bottom: 0px;
      left: 0px;
      right: 0px;
      z-index: 1;
      }
      #editor, .CodeMirror {
      margin: 0px;
      width: 100%;
      height: 100%;
      font-family: Monaco, Menlo, 'Ubuntu Mono', Consolas, source-code-pro, monospace;
      font-size: 12px;
      line-height: 15px;
      }
      .breakpoints { width: .8em; font-size: .5em; }
      .breakpoint { color: #822; font-size: .4em; }
      .cm-tab {
      background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
      background-position: right;
      background-repeat: no-repeat;
      }
      .input-prepend {
      margin-top: 10px;
      }
      #mensajes {
      overflow-y: scroll;
      padding: 0 10px 10px 10px;
      }
      #pila {
      overflow-y: scroll;
      padding: 0 10px 10px 10px;
      }
      pre.error-popup {
      display: none;
      position: absolute;
      left: 3em;
      top: 1em;
      border: 1px solid #000;
      background: #ff8;
      width: 30em;
      z-index: 10;
      padding: 5px;
      white-space: normal;
      }
      .error:hover .error-popup {
      display: block;
      }
      .parse-error {
      background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsEBjIX8OiuEwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAAgSURBVAjXPcixAQAwDMMgnP9/VrcyIgqVcGrIBh38rD25RQ/6x3pUhQAAAABJRU5ErkJggg==);
      background-repeat: repeat-x;
      background-position: 0 100%;
      }
      .karel-current-line {
      background: rgba(255, 255, 0, 0.8);
      }
      .ace_gutter-cell.ace_breakpoint {
      border-radius: 20px 0px 0px 20px;
      box-shadow: 0px 0px 1px 1px red inset;
      }
      .dropdown {
      z-index: 1000;
      }
      .gutter {
      background-color: #eee;
      background-repeat: no-repeat;
      background-position: 50%;
      }
      .gutter.gutter-horizontal {
      background-image: url('lib/Split.js/grips/vertical.png');
      cursor: col-resize;
      }
      .gutter.gutter-vertical {
      background-image: url('lib/Split.js/grips/horizontal.png');
      cursor: row-resize;
      }
      .split {
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
      overflow-y: auto;
      overflow-x: hidden;
      }
      .split.split-horizontal, .gutter.gutter-horizontal {
      height: 100%;
      float: left;
      }
    </style>
  </head>
  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">Karel.js</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Mundo <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="#" id="newworld"><i class="icon-star"></i> Nuevo</a></li>
                  <li><a href="#" id="worldload"><i class="icon-folder-open"></i> Abrir .in</a></li>
                  <li><a href="#importar_modal" data-toggle="modal"><i class="icon-folder-open"></i> Importar MDO/KEC</a></li>
                  <li class="divider"></li>
                  <li><a href="#" id="worldsave"><i class="icon-download-alt"></i> Guardar .in</a></li>
                  <li><a href="#guardar_modal" data-toggle="modal" id="save_out"><i class="icon-download-alt"></i> Guardar .out</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Código <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="#" id="pascalsyntax"><i class="icon-star"></i> Nuevo (Pascal)</a></li>
                  <li><a href="#" id="javasyntax"><i class="icon-star"></i> Nuevo (Java)</a></li>
                  <li><a href="#" id="rubysyntax"><i class="icon-star"></i> Nuevo (Ruby)</a></li>
                  <li><a href="#" id="codeload"><i class="icon-folder-open"></i> Abrir</a></li>
                  <li class="divider"></li>
                  <li><a href="#" id="codesave"><i class="icon-download-alt"></i> Guardar</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Opciones <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="#" id="theme"><i class="icon-pencil"></i> Tema</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ayuda <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="ayuda.html" target="_blank"><i class="icon-book"></i> Manual y trucos</a></li>
                  <li class="divider"></li>
                  <li><a href="#acerca_de_modal" data-toggle="modal"><i class="icon-question-sign"></i> Acerca de</a></li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="container" style="margin-top:50px">
      <div class="row">
        <div class="span12">
          <div class="btn-group">
            <button class="btn" data-toggle="tooltip" title="Regresar el mundo a su estado original" id="worldclean"><i class="icon-repeat"></i></button>
          </div>
          <div class="btn-group">
            <button class="btn" data-toggle="tooltip" title="Compilar" id="compilar"><i class="icon-th-large"></i></button>
            <button class="btn" data-toggle="tooltip" title="Ejecutar" id="ejecutar"><i class="icon-play"></i></button>
            <button class="btn" data-toggle="tooltip" title="Paso a paso" id="paso"><i class="icon-forward"></i></button>
            <button class="btn" data-toggle="tooltip" title="Ver el futuro" id="futuro"><i class="icon-eye-open"></i></button>
          </div>
          <div class="btn-group">
            <button class="btn" data-toggle="tooltip" title="Volver a 1,1" id="go_home"><i class="icon-home"></i></button>
            <button class="btn" data-toggle="tooltip" title="Ve a donde esté Karel" id="follow_karel"><i class="icon-arrow-up"></i></button>
            <button class="btn" data-toggle="tooltip" title="Quitar zumbadores" id="quitar_zumbadores"><i class="icon-minus-sign"></i></button>
          </div>
          <div class="btn-group">
            <div class="input-prepend input-append">
              <span class="add-on" title="El número de zumbadores en la mochila con los que inicia Karel">Mochila</span>
              <input class="span1" value="0" type="text" id="mochila">
              <button class="btn" id="inf_zumbadores">INF</button>
            </div>
          </div>
          <div class="btn-group">
            <div class="input-prepend input-append">
              <span class="add-on" title="El tiempo (en milisegundos) de espera entre pasos de Karel">Retraso</span>
              <input class="span1" value="500" type="text" id="retraso_txt">
              <button class="btn" id="retraso_minus"><i class="icon-minus-sign"></i></button>
              <button class="btn" id="retraso_plus"><i class="icon-plus-sign"></i></button>
            </div>
          </div>
          <div class="btn-group">
            <button class="btn" data-toggle="tooltip" title="Modificar condiciones del evaluador" id="evaluacion"><span class="icon-ok"></span> Evaluador</button>
          </div>
        </div>
      </div>
    </div>
    <div id="splitter-container">
      <div id="splitter-left-pane" class="split split-horizontal">
        <div id="splitter-left-top-pane" class="split content">
          <textarea id="editor">iniciar-programa
  inicia-ejecucion
    { TODO poner codigo aqui }
    apagate;
  termina-ejecucion
finalizar-programa</textarea>
        </div>
        <div id="splitter-left-bottom-pane" class="split content tabbable">
          <!-- Only required for left/right tabs -->
          <ul class="nav nav-tabs">
            <li><a href="#pila" data-toggle="tab">Pila</a></li>
            <li class="active"><a href="#mensajes" data-toggle="tab">Mensajes <span id="mensajes_cuenta"></span></a></li>
          </ul>
          <div class="tab-content">
            <div class="tab-pane" id="pila">
              <table class="table table-striped table-hover">
              </table>
            </div>
            <div class="tab-pane active" id="mensajes">
            </div>
          </div>
        </div>
      </div>
      <div id="splitter-right-pane" class="split split-horizontal">
        <canvas id="world" width="574" height="400"></canvas>
      </div>
    </div>
    <div class="dropdown clearfix" style="position:absolute; top:150px; left:700px; display:none;" id="wcontext_menu">
      <ul class="dropdown-menu" style="display: block; position: static; margin-bottom: 5px;">
        <li><a href="#" id="ctx_norte">Situar a karel al norte</a></li>
        <li><a href="#" id="ctx_sur">Situar a karel al sur</a></li>
        <li><a href="#" id="ctx_este">Situar a karel al este</a></li>
        <li><a href="#" id="ctx_oeste">Situar a karel al oeste</a></li>
        <li class="divider"></li>
        <li><a href="#" id="n_zumbadores">N zumbadores</a></li>
        <li><a href="#" id="inf_zumbadores_ctx">infinitos zumbadores</a></li>
        <li><a href="#" id="cero_zumbadores">0 zumbadores</a></li>
        <li class="divider"></li>
        <li><a href="#" id="toggle_dump_cell">Desplegar casilla</a></li>
      </ul>
    </div>
    <div id="acerca_de_modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Karel.js</h3>
      </div>
      <div class="modal-body">
        <p><i>Karel escrito en javascript</i></p>
        <p>Desarrollado por:</p>
        <ul>
          <li>alanboy</li>
          <li>joemmanuel</li>
          <li>lhchavez</li>
          <li><a href="https://twitter.com/categulario" target="_blank">Categulario</a></li>
          <li><a href="https://twitter.com/pacharrin" target="_blank">Pacha</a></li>
        </ul>
      </div>
      <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Cerrar</button>
      </div>
    </div>
    <div id="guardar_modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="guardarLabel" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="guardarLabel">Guardar archivo</h3>
      </div>
      <div class="modal-body">
        <pre id="guardar_salida"> </pre>
      </div>
      <div class="modal-footer">
        <a href="#" id="guardar_descargar">Descargar archivo</a>
        <button class="btn" data-dismiss="modal" aria-hidden="true">Cerrar</button>
      </div>
    </div>
    <div id="importar_modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="importLabel" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="importLabel">Importar MDO/KEC</h3>
      </div>
      <div class="modal-body">
        <form id="importar">
          <div class="form-group">
            <label >MDO: <input type="file" id="importar_mdo"></label>
            <label >KEC: <input type="file" id="importar_kec" /></label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <input type="submit" class="btn" value="Importar">
      </div>
    </div>
    <div id="prompt_modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="importLabel" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title">Mensaje</h4>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group group-value">
            <label for="prompt-value"></label>
            <input type="text" id="prompt-value" />
          </div>
          <div class="form-group group-select">
            <label for="prompt-select"></label>
            <select id="prompt-select"></select>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary">Aceptar</button>
      </div>
    </div>
    <div id="evaluacion_modal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="importLabel" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title">Evaluación</h4>
      </div>
      <div class="modal-body">
        <fieldset>
          <h4>Despliega</h4>
          <div class="btn-group" data-toggle="buttons-checkbox">
            <button class="btn" title="La solución depende de la posición final de Karel" id="posicion_karel">Posición</button>
            <button class="btn" title="La solución depende de la orientación final de Karel" id="orientacion_karel">Orientación</button>
            <button class="btn" title="La solución depende del estado final de la mochila de Karel" id="mochila_karel">Mochila</button>
            <button class="btn" title="La solución va a hacer dump de todos los zumbadores del mundo" id="universo">Zumbadores</button>
          </div>
          <h4>Cuenta instrucciones</h4>
          <div class="btn-group" data-toggle="buttons-checkbox">
            <button class="btn" title="La solución depende del número de instrucciones avanza" id="dump_avanza">Avanza</button>
            <button class="btn" title="La solución depende del número de instrucciones gira-izquierda" id="dump_gira_izquierda">Gira izquierda</button>
            <button class="btn" title="La solución depende del número de instrucciones coge-zumbador" id="dump_coge_zumbador">Coge zumbador</button>
            <button class="btn" title="La solución depende del número de instrucciones deja-zumbador" id="dump_deja_zumbador">Deja zumbador</button>
          </div>
        </fieldset>
      </div>
      <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Cerrar</button>
      </div>
    </div>
    <script type="application/x-karel-input" id="xmlMundo"><ejecucion>
  <condiciones instruccionesMaximasAEjecutar="10000000" longitudStack="65000" />
  <mundos>
    <mundo nombre="mundo_0" ancho="100" alto="100">
  </mundo>
  </mundos>
  <programas tipoEjecucion="CONTINUA" intruccionesCambioContexto="1" milisegundosParaPasoAutomatico="0">
    <programa nombre="p1" ruta="{$2$}" mundoDeEjecucion="mundo_0" xKarel="1" yKarel="1" direccionKarel="NORTE" mochilaKarel="0" >
      <despliega tipo="MUNDO" />
    </programa>
  </programas>
</ejecucion>
    </script>
  </body>
</html>